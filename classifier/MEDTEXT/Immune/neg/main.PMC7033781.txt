Technical Innovations & Patient Support in Radiation Oncology 2 (2017) 1-4
Contents lists available at ScienceDirect
Technical Innovations & Patient Support in Radiation Oncology
journal homepage: www.elsevier.com/locate/tipsro

Short communications and technical notes
A photographic technique for quick assessment of mechanical isocenter of a linear accelerator
Janne Heikkilä a,, Jan Seppälä a, Jouni Nuutinen a,1, Antti Vanne b, Tapani Lahtinen a,1
a Cancer Center, Kuopio University Hospital, Kuopio, Finland b Kuava Ltd, Kuopio, Finland

article info
Article history: Received 30 November 2016 Received in revised form 3 March 2017 Accepted 27 March 2017 Available online 28 April 2017
Keywords: Quality assurance (QA) Mechanical Isocenter Linear accelerator

abstract
Demands for mechanical accuracy of medical linear accelerators are increased due to the stereotactic and modulated rotational treatments. Mechanical inaccuracies affect the size and shape of the mechanical and radiation isocenters. In practice, the mechanical isocenter is defined by the intersection of rotational axes. However, there are no simple tools to check the properties of the mechanical isocenter in 3D. We introduce a new photography-based method for quick and sub-millimeter accurate determination of the mechanical isocenter. The method is based on image-processing algorithm and modified front pointer. The results demonstrate the quick measurement and visualization of the mechanical isocenter. Ó 2017 The Authors. Published by Elsevier Ireland Ltd on behalf of European Society for Radiotherapy &
Oncology. This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/ licenses/by-nc-nd/4.0/).

Introduction
Medical linear accelerators with a rotating gantry are based on an assumption that the rotational axes of the gantry, collimator, and treatment couch intersect in a single point, an isocenter [1]. Therefore, the definition of the isocenter is based on a surface that covers the cluster of isocenter points determined by rotational axes of the linear accelerator. Because of mechanical inaccuracies of the axes rotations it is better to speak about isocenter volume than isocenter point.
According to the AAPM quality assurance (QA) protocol for medical accelerators [1], mechanical and radiation isocenters are recommended to be verified regularly. However, feasible and accurate techniques or tools for QA of the mechanical isocenter in 3D are not available. At present, the mechanical isocenter is usually assessed by two pointers, a front pointer moving with a gantry, collimator or couch rotations and a fixed pointer independent on rotations whose distances should be measured [2]. The distances can also be measured using photo-detector plate if the front pointer is replaced by a laser [3]. Due to the lack of easy and accurate systems to register these distances in 3D with all collimator and gantry angle combinations, these kind of tests does not necessarily reach sub-millimeter accuracy in 3D.
Many techniques have been introduced and published for the determination and QA of radiation isocenter [4-8]. These methods
 Corresponding author at: Cancer Center, Kuopio University Hospital, PO
Box 100, FI-70029 Kuopio, Finland. E-mail address: janne.heikkila@kuh.fi (J. Heikkilä).
1 Present address: Delfin Technologies Ltd, Kuopio, Finland.

are often based on radiochromic film, electronic portal imaging devices (EPID) or phosphor panels. However, the radiation isocenter may deviate from the mechanical isocenter [9] justifying independent determination of mechanical isocenter because a small and accurate radiation isocenter can be achieved only if the mechanical isocenter is verified to be stable and precisely adjusted.
Verification of the accuracy of the mechanical isocenter requires an exact, repeatable, and automated method to track changes over time. In the present investigation we introduce a new photography-based method for the determination of mechanical isocenter. A modified front pointer, camera and an automatic image-processing algorithm were used to determine and visualize the size and shape of the mechanical isocenter in three dimensions. The method is based on automated analysis of the series of single images acquired during gantry and collimator rotations. The developed method for quick evaluation of mechanical isocenter with sub-millimeter accuracy produces also trend curves to detect slight temporal changes in size and shape of the mechanical isocenter.
Materials and methods
Technical solution
The introduced system consists of a standard digital single-lens reflex (DSLR) camera, remote trigger, flash module, modified front pointer, and image-processing software (MATLAB, The MathWorks Inc., Natick, MA). The standard front pointer (Varian Medical Systems Inc, Palo Alto, USA) was modified by fixing a high-contrast

http://dx.doi.org/10.1016/j.tipsro.2017.03.001 2405-6324/Ó 2017 The Authors. Published by Elsevier Ireland Ltd on behalf of European Society for Radiotherapy & Oncology. This is an open access article under the CC BY-NC-ND license (http://creativecommons.org/licenses/by-nc-nd/4.0/).

2

J. Heikkilä et al. / Technical Innovations & Patient Support in Radiation Oncology 2 (2017) 1-4

a)
DSLR camera and
flash module

Front pointer ball
b)
z y

z x

Fig. 1. (a) An example of the imaging setup with gantry angle 0° and couch rotation 90°. Modified front pointer is the imaging object. Tip of the front pointer is a plastic ball with a diameter of 12 mm. (b) Coordinate directions (x, y, and z) used in the image analysis and results.

ball with a radius of 12 mm to the tip of the front pointer (Fig. 1a). This ball is an imaging object and the center of the ball is automatically detected by the image-processing software from images captured at different collimator, gantry, and couch angles. The software also includes tools for image preparation, isocenter visualization and trend curve analysis.
Image capture
In the beginning of the isocenter test, the center of the ball was positioned at the assumed mechanical isocenter indicated by the patient positioning lasers. For data acquisition the camera was placed on the couch and the front pointer was fixed to the gantry (Fig. 1a). Images were captured by using a remote trigger to prevent camera movements during image acquisition. Imaging parameters (aperture, exposure time, ISO value, and focusing) were kept constant for all images. The depth of focus was adjusted to be short to blur the image background thus helping automated ball detection from the captured images.
The first image set with camera on the couch with couch angle 0° was acquired during rotation of the gantry and collimator angles from À180° to 180° and from À165° to 165°, respectively. In the second image set, the couch angle was 270° and the front pointer was imaged using same gantry and collimator angles, except the gantry angles between 180° and 315° to avoid collision of the gantry with the couch.
Data analysis
All the acquired images with corresponding gantry angle, collimator angle, and couch angle were loaded in image-processing

Fig. 2. Measured displacements as a function of micrometer position with the linear fit to the measurements. Displacements were analyzed in pixel space and converted to millimeters using the size of the ball as a reference (1 pixel = 0.032 mm).
software and the ball was recognized from each image. The recognition starts by thresholding the ball in hue-saturation-value color space. The edge of the ball is then determined using Sobel edge detection method [10] and center of the ball is determined using the circle Hough transform [11]. These circle center coordinates correspond now to location of the front pointer in pixel space. The pixels are converted to millimeters by using the diameter of the ball (12 mm) as a reference.
Using the acquired images at different angles the centers of front pointer ball were determined in x, y, and z-directions (Fig. 1b). First, ball displacements due to gantry and collimator rotations were determined in the gantry rotation plane (xz-plane). Second, the

J. Heikkilä et al. / Technical Innovations & Patient Support in Radiation Oncology 2 (2017) 1-4

3

Fig. 3. (a) Measured front pointer ball locations for different gantry and collimator rotations. (b) Isocenter surface that covers the measured front pointer ball locations. In both figures, the asterisk mark (*) is used for the assumed isocenter (i.e. positioning lasers points the middle of the front pointer ball when the gantry and collimator angles are 0°).

Fig. 4. Measured displacements of the front pointer ball in x-, y-, and z-directions and in xz- and yz-planes when only the gantry was rotated and the collimator angle was 0°. For y-displacement the gantry angles between 180° and 315° are missing because the couch prevents gantry rotation at these angles.

4

J. Heikkilä et al. / Technical Innovations & Patient Support in Radiation Oncology 2 (2017) 1-4

displacements in the yz-plane were analyzed. The determined coordinates with gantry and collimator angles 0° was used as an origin for both image sets. Finally, the results from these separate image sets were used to calculate the front pointer ball displacements in x, y, and z-directions relative to the previously selected origin.
Feasibility and sensitivity tests
All feasibility tests were performed using a linear accelerator (Varian 600C; Varian Medical Systems Inc, Palo Alto, USA) which has been commissioned for use for over ten years. The feasibility tests were done by using the same front pointer and holder as used in routine machine QA.
Sensitivity of the image-processing algorithm was tested by fixing the front pointer to the micrometer which was used to move the ball 0.2 mm in one direction in steps of 10 mm while the images were acquired after each step.
Results
Sensitivity measurements of the developed tool are shown in Fig. 2 which illustrates the measured displacements as a function of micrometer reading. The excellent correlation demonstrates that the automatic image-processing software detects the ball displacements within sub-millimeter accuracy. Steps in the detected movements are 32 mm which was the size of the image pixel in this image set.
Three-dimensional visualization of the displacements of the front pointer ball for different gantry and collimator rotations are illustrated in Fig. 3a. Measured displacements are shown as dots and the assumed isocenter point (0, 0, 0) is shown as an asterisk (/). Fig. 3b shows the surface defined by the outermost dots of the measured ball locations illustrating that the shape of mechanical isocenter is not spherical. Fig. 3 also illustrates that the assumed mechanical isocenter indicated by the patient positioning lasers is not in the middle of the measured isocenter volume.
Fig. 4 illustrates measured front pointer ball displacements for different gantry angles with 0° collimator angle. The point (0, 0, 0) is the initial setup point of the front pointer ball with gantry and collimator angle of 0°. Importance of the 3D analysis of the mechanical isocenter can be justified by comparing the results from Figs. 3 and 4. The results in Fig. 4 show that all the measurements are within the AAPM's 2 mm tolerance for the mechanical isocenter. However, 3D results in Fig. 3 with gantry and collimator rotations show that there is one collimator and gantry angle combination that yields 2.18 mm displacement for the front pointer ball, exceeding the AAPM's tolerance.
Discussion
Shifts of the mechanical isocenter can have a significant impact on the delivery of the radiation therapy in situations where high accuracy of the mechanical isocenter is important. The demand for high accuracy relates to highly modulated fields and to treat-

ment plans with high dose gradients [1]. Factors such as gantry sag due to the gravity, wearing of the mechanical components of the gantry, and misalignment of the components of the accelerator head might affect the accuracy of the mechanical isocenter.
A robust mechanical isocenter testing system with submillimeter accuracy is needed for the routine QA tests at all radiotherapy departments. Currently, the mechanical isocenter is usually tested using 2D measurements [4]. However, results in Figs. 3 and 4 clearly justify the need for 3D measurements of the mechanical isocenter. The current system could serve as a more acceptable QA tool to fulfill AAPM recommendations [1].
Current system might also be a useful installation and acceptance tool for a new linear accelerator when the mechanical isocenter needs adjustment. These initial tests may serve a basis for later periodic QA measurements. Resulting trend curves might be valuable in predicting need for the maintenance and they may indicate slow weakening in the mechanical properties of the linear accelerator.
Conclusions
The present investigation suggests that the photography-based system for checking mechanical isocenter may offer a requested improvement to the current situation where the assessment of the mechanical isocenter is often neglected due to very tedious measurements. With the new system the mechanical isocenter can be quickly measured and visualized from captured photographs using modified front pointer.
References
[1] Klein EE, Hanley J, Bayouth J, Yin F-F, Simon W, Dresser S, et al. Task Group 142 report: quality assurance of medical accelerators. Med Phys 2009;36:4197-212.
[2] Tsai JS, Curran BH, Sternick ES, Engler MJ. The measurement of linear accelerator isocenter motion using a three-micrometer device and an adjustable pointer. Int J Radiat Oncol Biol Phys 1996;34:189-95.
[3] Gibbs Jr FA, Buechler D, Leavitt DD, Moeller JH. Measurement of mechanical accuracy of isocenter in conventional linear-accelerator-based radiosurgery. Int J Radiat Oncol Biol Phys 1993;25:117-22.
[4] Rowshanfarzad P, Sabet M, O'Connor DJ, Greer PB. Isocenter verification for linac-based stereotactic radiation therapy: review of principles and techniques. J Appl Clin Med Phys 2011;12:1-9.
[5] Gonzalez A, Castro I, Martinez JA. A procedure to determine the radiation isocenter size in a linear accelerator. Med Phys 2004;31:1489-93.
[6] PTW. ISOCHECK Isocenter test device. <http://www.ptw.de/isocheck_ isocenter_test_device.html> 2016 [accessed 28.11.16].
[7] Rosca F, Lorenz F, Hacker FL, Chin LM, Ramakrishna N, Zygmanski P. An MLCbased linac QA procedure for the characterization of radiation isocenter and room lasers' position. Med Phys 2006;33:1780-7.
[8] Lutz W, Winston KR, Maleki N. A system for stereotactic radiosurgery with a linear accelerator. Int J Radiat Oncol Biol Phys 1988;14:373-81.
[9] Skworcow P, Mills JA, Haas OC, Burnham KJ. A new approach to quantify the mechanical and radiation isocentres of radiotherapy treatment machine gantries. Phys Med Biol 2007;52:7109-24.
[10] Ritter GX, Wilson JN. Handbook of computer vision algorithms in image algebra. Florida: CRC Press; 2001.
[11] Pakhira MK. Digital image processing and pattern recognition. New Delhi: PHI Learning Private Limited; 2011.

