Build Emotion Lexicon from the Mood of Crowd via Topic-Assisted Joint Non-negative Matrix Factorization

Kaisong Song1, Wei Gao2, Ling Chen3, Shi Feng1,4, Daling Wang1,4, Chengqi Zhang3
1School of Computer Science and Engineering, Northeastern University, Shenyang, China 2Qatar Computing Research Institute, Hamad Bin Khalifa University, Doha, Qatar
3Centre for Quantum Computation and Intelligent Systems, University of Technology, Sydney, Australia 4Key Laboratory of Medical Image Computing (Northeastern University), Ministry of Education, China
kaisongsong@gmail.com, {fengshi, wangdaling}@cse.neu.edu.cn
wgao@qf.org.qa, {ling.chen, chengqi.zhang}@uts.edu.au

ABSTRACT
In the research of building emotion lexicons, we witness the exploitation of crowd-sourced affective annotation given by readers of online news articles. Such approach ignores the relationship between topics and emotion expressions which are often closely correlated. We build an emotion lexicon by developing a novel joint non-negative matrix factorization model which not only incorporates crowd-annotated emotion labels of articles but also generates the lexicon using the topic-specific matrices obtained from the factorization process. We evaluate our lexicon via emotion classification on both benchmark and built-in-house datasets. Results demonstrate the high-quality of our lexicon.
Keywords
emotion lexicon; joint NMF; emotion classification
1. INTRODUCTION
A basic task in sentiment analysis is classifying the sentiment polarity (positive or negative) of the given subjective text [8, 11, 13]. However, the binary scheme may be oversimplified. Recently, emotion analysis represents a natural evolution of sentiment analysis by modeling finer-grained emotions, e.g., happy, sad, angry, etc. [9, 14].
Emotion lexicons are the essential resources for emotion analysis. Compared to sentiment lexicons such as SentiWordNet1 [1], where each entry is typically labeled with sentiment polarity, emotion lexicons are more complex in the sense that each entry may convey a mixture of multiple emotions which bear different emotion intensity2 [14].
Most of the existing lexicon construction approaches [3, 12, 15] are based upon a set of hand-coded seed words. Consequently, the quality of lexicons is sensitive to the manual
1http://sentiwordnet.isti.cnr.it/ 2git.io/MqyoIg
Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. Copyrights for components of this work owned by others than the author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee. Request permissions from permissions@acm.org. SIGIR '16, July 17 - 21, 2016, Pisa, Italy
c 2016 Copyright held by the owner/author(s). Publication rights licensed to ACM. ISBN 978-1-4503-4069-4/16/07. . . $15.00 DOI: http://dx.doi.org/10.1145/2911451.2914759

Figure 1: The emotion distribution generated by "mood meter" on a news article
seed selection. Today, many news websites (e.g., rappler. com, corriere.it, etc.) allow users to express their feelings about an article with a simple click on a given set of emoticons. Figure 1 shows the emotion distribution based on such kind of votes from the crowd regarding an article on rappler.com via an GUI called "mood meter" which is embedded in each of its web page.
Staiano and Guerini [14] proposed a compositional semantics method that utilized crowd-based affective annotation, where they represented words and emotions in a high-dimensional space based on their occurrences in the document. A deficiency is that they ignored the versatility of affections among various contexts. It cannot distinguish accurately the emotion of words by disregarding different topics where words exist. Since documents and topics are of many-to-many correspondence in a collection, it would be more useful to consider emotions at topic level. Some researchers tried to model topic and sentiment simultaneously [4, 8] for joint sentiment-topic analysis. However, no work has considered topics when building emotion lexicons.
Intuitively, emotion expressions are pertinent to the topics in which they reside. For example, "predictable" suggests happiness for stock market, but for a movie it implies disappointment or even anger. We expect that topic-assisted workaround can produce finer-grained and more accurate entries for emotion lexicons. In this paper, we develop a novel joint non-negative matrix factorization model which associates words with emotions in a low-dimensional semantic space based on hidden topics. An emotion lexicon is built from word-topic and emotion-topic factor matrices, which result from the joint model, using matrix composition.

773

2. RELATED WORK
Emotion lexicons are typically built based on a set of seed words [3, 12, 14, 15]. Xu et al. [15] proposed a graph-based algorithm which ranked words according to a few manually selected seed words. Song et al. [12] and Feng et al. [3] improved this method by supplementing seed words with graphical emoticons or combined their effects. Differently, Staiano and Guerini [14] proposed a compositional semantics method using crowd-annotated articles crawled from the Internet. In this paper, we also resort to crowd-annotated articles while we incorporate topic-emotion relationship for lexicon construction which was not considered previously.
Non-negative matrix factorization (NMF) has been widely used in image or text representation. Lee and Seung [5] investigated the properties of the algorithm and emphasized the clustering aspect. Xu et al. [16] applied standard NMF to document clustering. In recent years, different extensions [7, 10] have been proposed for solving sentiment analysis and sentiment lexicon construction. Li et al. [7] creatively applied orthogonal NMF, proposed by Ding et al. [2], to sentiment classification by incorporating lexical prior knowledge. Peng and Park [10] proposed a constrained symmetric NMF method for sentiment lexicon construction, which considers synonyms and antonyms simultaneously.
Lee et al. [6] used a generic semi-supervised NMF (SSNMF) method which jointly incorporates the data matrix and the (partial) class label matrix into NMF. We base our model on SSNMF for lexicon construction by incorporating different factorization schemes for the supervision matrix, which naturally results in a lexicon from the estimated factor matrices. To our knowledge, this is the first attempt for building fine-grained emotion lexicon based on NMF models.

3. PRELIMINARIES
We first introduce a compositional semantics method [14] for building an emotion lexicon from crowd-annotated news. Then, we review semi-supervised NMF [6] which paves the way for developing our lexicon generation method.

3.1 Compositional Semantics Method (CS)
Let D = {d1, . . . , d|D|} be a set of documents, and W = {w1, . . . , w|W |} be the complete vocabulary set of the whole corpus. We define a word-document matrix MW D of size |W | × |D|, using (w, d) as index and MW D(w,d) as entry value based on raw frequencies f, normalized frequencies nf or tf-idf. Given emotion set E = {e1, . . . , e|E|}, we can represent emotion labels from crowd-annotated resources as a document-emotion matrix MDE of size |D| × |E| whose entry values are based on crowd-sourced affective annota-
tion (see Figure 1). Staiano and Guerini [14] built a word-
emotion matrix MW E using the compositional semantics (CS) method by multiplying matrices MW D and MDE:

MW E = MW D MDE

(1)

An emotion lexicon can be obtained by first applying columnwise normalization to MW E and then scaling its row-wise data that sums up to one.

3.2 Semi-Supervised NMF (SSNMF)
Non-negative Matrix Factorization (NMF) [5] is an unsupervised algorithm widely used in image or text representation. A generic semi-supervised NMF (SSNMF) algorithm [6] was proposed to incorporate the data matrix

X = [x1, . . . , xn]  Rm + ×n, where m is the dimension of data vectors, and the class label matrix Y = [y1, . . . , yn]  Rc+×n, where c is the number of classes. The objective function, which involves the non-negative two-factor decomposition of X and Y sharing a common factor matrix S  Rk+×n, is to minimize the following:
J = ||U (X - AS)||2 + ||V (Y - BS)||2 (2)
where  is a tradeoff parameter adjusting the importance of the supervised term, A  Rm + ×k and B  Rc+×k are basis matrices for X and Y, U and V are weights matrices, both of which can be fixed as all-ones matrices to make an NMF that fully uses labeled data [6]. Notation ||.||2 denotes the squared sum of all the elements in the matrix and represents element-wise product.

4. OUR JOINT NMF MODEL
Inspired from SSNMF, we can jointly model the hidden topics and the explicit crowd-based emotions of articles by customizing the factorization process. Let T = {t1, ..., t|T |} be a set of topics in low-dimensional space with |T | min{|D|, |W |}. Given the word-document matrix MW D and document-emotion matrix MDE, we decompose them based on equation 2 by minimizing:
J = ||MW D - MW T MDT ||2 + ||MDE - MET MDT ||2 (3)
to learn the three topic-specific factor matrices MW T , MDT and MET , where MET represents the strength that emotions are associated with topics. Then, we can get the word emotion distributions by using a variant of compositional semantics approach (see equation 1) as below:

MW E = MW T MET

(4)

A deficiency of directly applying SSNMF is that the emotion modeling is still coarse-grained for lexicon construction which is concerned about word-level emotion. We enhance the model by modeling the emotions of subjective texts using a weighted linear combination of emotion words, which will result in an additional term of the 3-factor decomposition of MDE based on formula 3 as follow:

J = J + ||MDE - MW DMW T MET ||2

(5)

where  is a tradeoff parameter, MW D is fixed and considered as word weights, and MW T and MET are variables whose product happens to be MW E. With the last term, the joint model aims to improve the estimation of the topic-
specific factor matrices by approximating the document-
level emotions MDE based on the word-level emotions MW E. Computation: Factor matrices MW T , MET and MDT are
first randomly initialized, and then updated iteratively by
the following updating formulas:

MW T  MW T

MW D MDT + MW E MET MW T MTDT MDT + MW W MW T MTET MET

MET  MET

MTDE MDT + MTW E MW T MET MTDT MDT + MET MTW T MW W MW T

MDT  MDT

MTW D MW T + MDE MET MDT MTW T MW T + MDT MTET MET

where MW W = MW DMTW D, MW E = MW DMDE, and the divisions are all element-wise. The update formulas can be

easily induced based on the derivatives in [6].

774

Example entries
crime#n dead#a criminal#a interesting#a monitor#v funny#a
sad#a

afraid
.000 (.119) .000 (.218) .001 (.145) .000 (.034) .511 (.238) .000 (.055) .000 (.050)

amused
.000 (.088) .000 (.059) .000 (.092) 1.00 (.252) .000 (.098) .977 (.278) .000 (.081)

angry .994 (.272) .000 (.173) 1.00 (.233) .000 (.046) .485 (.157) .000 (.065) .000 (.112)

annoyed
.000 (.104) .000 (.080) .000 (.137) .000 (.098) .000 (.124) .000 (.125) .000 (.104)

dont care
.000 (.085) .000 (.075) .000 (.086) .000 (.142) .000 (.078) .001 (.203) .000 (.172)

happy
.006 (.096) .000 (.055) .000 (.117) .000 (.181) .004 (.109) .022 (.110) .000 (.071)

inspired
.000 (.094) .000 (.057) .000 (.059) .000 (.206) .000 (.097) .000 (.093) .000 (.109)

sad
.000 (.142) 1.00 (.283) .000 (.131) .000 (.041) .000 (.099) .043 (.071) 1.00 (.301)

Table 1: Example entries in our constructed emotion lexicon. Emotion scores higher than 20% are highlighted for readability purposes. The brackets enclose the scores given by the CS method as a baseline

Emotion votesavg. Emotion votesavg.

afraid 7.8% dont care 5.9%

amused 10.6% happy 34.1%

angry 10.9% inspired 10.3%

annoyed 5.9% sad 14.5%

Table 2: Emotion distribution over Rappler dataset

Lexicon Construction: Given MW T and MET represented in the |T |-dimensional topic space, we can build a word-
emotion matrix MW E based on equation 4. After normalizing its entries, we obtain a |E|-dimensional vector for each
word w:

1 MW E (w,.) = Zw

MW E (w,1), · · · , MW E (w,|E|)

(6)

where each element MW E (w,e) indexed by (w, e) represents the emotion score of word w belonging to emotion category

e  E, and Zw = eE

MW E (w,e)

wW

MW

E

2 (w,e)

is the normal-

ization term for w (column-wise normalization ensures that

different columns for all the emotions are comparable).

Our created emotion lexicon contains 31,806 entries in to-

tal. Table 1 presents several example entries. Similar to [14],

we lemmatize and Part-of-Speech (PoS) tag all the docu-

ments (PoS we considered are adjective, noun, verb and ad-

verb), and we only keep those lemma#P oS entries in the

lexicon which also appear in WordNet for eliminating noise

words. We can see that each entry has at least one main

emotion (e.g., monitor#v has two main emotions of afraid

and angry), and our lexicon differentiates the emotions bet-

ter by assigning discriminative weighting scores as compared

to the CS baseline.

5. EXPERIMENTAL EVALUATION
5.1 Data Resources
To build our lexicon, we crawled 31, 107 English news articles published before 2015-11-06 from rappler.com. We used Standford CoreNLP3, an integrated suite of natural language processing tools, to tokenize, PoS tag and lemmatize all text data. In Table 2, we report the average percentage of votes for each emotion over all the documents in the corpus. From Table 2, we find that the emotion of happy has a lot more votes than the others, which reflects that readers' emotion preference is consistent to the general observation ­ positive sentiment dominates in real-world data. The crawled resources and generated lexicons have been made publicly available4.
To evaluate the lexicon, we applied it for emotion classification on news headlines as [14] did. We used two datasets:
3http://nlp.stanford.edu/software/corenlp.shtml 4https://sites.google.com/site/emolexdata/

Rappler angry

sad

afraid happy inspired other

SemEval anger sadness fear

joy surprise ­

Table 3: Emotion label mapping over two test sets

(1) A benchmark dataset from SemEval-20075 on identifying "Affective Text", which contains 1k annotated headlines. As SemEval-2007 test set consists of only six emotions, we adopted an emotion mapping method as displayed in Table 3 to map them to our pre-defined emotions in the lexicon. (2) A built-in-house dataset with total 31k headlines of the crawled Rappler articles.
We implement the algorithms using Matlab and run them on a high performance Linux cluster.

5.2 Experiments and Results
We evaluate the quality of the emotion lexicons in two ways: (1) we examine the quality of lexicons created by our method and other competitive methods using the crawled Rappler news articles via an emotion classification task; (2) we compare our created lexicons with publicly available stateof-the-art lexicons in similar size.

5.2.1 Parameter Setting
We tune the number of topics |T | by performing a grid search over all values of 10  x with x  {1, 2, ..., 30}. The tradeoff parameters  and  are tuned over all values in {0.1, 1, 10, 100}. The tuning is based on the performance of emotion classification on the headlines in SemEval's trial set and a held-out set which consists of 20% headlines randomly selected from the Rappler articles. Finally, we set |T | = 250,  = 1 and  = 10. We set the number of iterations as 300, which is large enough for ensuring convergence according to our observation on the drop of J and J values.

5.2.2 Comparison of Lexicon Building Methods

For emotion classification, we use a straight-forward voting-

based algorithm [12, 14] to assign emotion labels to a test

headline h. We conduct element-wise sum over the emo-

tion words in the headline by looking up the lexicon and

then average the sums by word counts, i.e.,

Vh

=

1 Zh

<

w MW E (w,1), ..., w MW E (w,|E|) > where Zh is the num-

ber of emotion words in h. We then normalize V h with the

min-max normalization and map each emotion element into

a binary decision with fixed thresholds. We set threshold at

0.5 for SemEval-2007 test set and 0.35 for Rappler test set, empirically6. We use F-1 measure to assess the classification

performance on each emotion. Tables 4 and 5 show the re-

5http://nlp.cs.swarthmore.edu/semeval/tasks/ 6We set a lower threshold for Rappler test set since only a
single emotion in each news receives more than 50% votes

775

Method

f

CS nf

tf-idf

Joint (J )

f nf tf-idf

Joint (J )

f nf tf-idf

fear .301 .329 .338 .288 .306 .372 .309 .349 .361

anger .080 .090 .090 .098 .087 .091 .101 .105 .082

joy .292 .291 .289 .231 .256 .283 .252 .222 .270

sadness .349 .386 .354 .383 .387 .357 .350 .393 .359

surprise .096 .081 .094 .099 .095 .132 .082 .058 .133

Table 4: SemEval-2007 emotion classification (F1)

Method

f

CS nf

tf-idf

Joint (J )

f nf tf-idf

Joint (J )

f nf tf-idf

Method

f

CS nf

tf-idf

Joint (J )

f nf tf-idf

Joint (J )

f nf tf-idf

afraid .304 .324 .341 .331 .325 .338 .333 .351 .328
dont care .142 .143 .133 .177 .172 .129 .191 .199 .152

amused .293 .292 .277 .289 .302 .267 .279 .311 .274
happy .653 .652 .654 .596 .613 .624 .608 .596 .613

angry .361 .375 .377 .370 .360 .366 .371 .386 .368
inspired .297 .291 .284 .270 .300 .266 .275 .298 .268

annoyed .160 .162 .145 .208 .191 .138 .198 .198 .148 sad .429 .445 .427 .430 .434 .416 .400 .461 .419

Table 5: Rappler emotion classification (F1)

sults by averaging 20 independent runs (with random initial matrices) on SemEval and Rappler test sets, respectively.
Our joint models perform better than CS for most emotions especially under nf configuration. This indicates that normalized frequency can prevent the bias towards long documents and our method considering topic is effective. Moreover, joint model J also performs J at most cases, implying the usefulness of considering word-level emotion in decomposition. Surprisingly, the results under tf-idf configuration are unstable, which suggests that introducing idf is sub-optimal. This is because frequent emotion words, e.g., "good", receive low tf  idf , thus are not learned well.
5.2.3 Comparison with Available Emotion Lexicons
We compare our lexicons with the original lexicons released by Staiano and Guerini [14]. We assess them via emotion classification on the larger built-in-house Rappler test set. Figure 2 demonstrates that our lexicon configured as nf achieves the best results on nearly all emotions, which suggests the high usability of our created lexicon.
6. CONCLUSIONS
We present a joint NMF method which incorporates crowdbased emotion labels on articles and generates topic-specific factor matrices for building emotion lexicons via compositional semantics. Experiments conducted on the benchmark and built-in-house datasets demonstrate our method outperforms the competitive methods on emotion classification. Moreover, our created lexicon outperforms the competitive counterpart on emotion classification task. Our future work will study emotion-specific word embeddings for lexicon construction using deep learning.

 

 


 

 

 













    
 

  
  
  

Figure 2: Comparison among different lexicons

Acknowledgments
This work is supported by the National Natural Science Foundation of China (61370074, 61402091), the Fundamental Research Funds for the Central Universities (N130604002, N140404012) and the ARC Discovery Project (DP140100545).

7. REFERENCES [1] S. Baccianella, A. Esuli, and F. Sebastiani. Sentiwordnet 3.0: An enhanced lexical resource for sentiment analysis and opinion mining. In LREC, pages 2200­2204, 2010.
[2] C. H. Q. Ding, T. Li, W. Peng, and H. Park. Orthogonal nonnegative matrix t-factorizations for clustering. In SIGKDD, pages 126­135, 2006.
[3] S. Feng, K. Song, D. Wang, and G. Yu. A word-emoticon mutual reinforcement ranking model for building sentiment lexicon from massive collection of microblogs. World Wide Web, 18(4):949­967, 2015.
[4] Y. He, C. Lin, W. Gao, and K.-F. Wong. Dynamic joint sentiment-topic model. ACM Trans. Intell. Syst. Technol., 5(1):6:1­6:21, 2013.
[5] D. D. Lee and H. S. Seung. Learning the parts of objects by non-negative matrix factorization. Nature, 401, 1999.
[6] H. Lee, J. Yoo, and S. Choi. Semi-supervised nonnegative matrix factorization. IEEE Signal Process. Lett., 17(1):4­7, 2010.
[7] T. Li, Y. Zhang, and V. Sindhwani. A non-negative matrix tri-factorization approach to sentiment classification with lexical prior knowledge. In ACL, pages 244­252, 2009.
[8] Q. Mei, X. Ling, M. Wondra, H. Su, and C. Zhai. Topic sentiment mixture: modeling facets and opinions in weblogs. In WWW, pages 171­180, 2007.
[9] S. M. Mohammad and P. D. Turney. Crowdsourcing a word-emotion association lexicon. Computational Intelligence, 29(3):436­465, 2013.
[10] W. Peng and D. H. Park. Generate adjective sentiment dictionary for social media sentiment analysis using constrained nonnegative matrix factorization. In ICWSM, pages 273­280, 2011.
[11] K. Song, L. Chen, W. Gao, S. Feng, D. Wang, and C. Zhang. Persentiment: A personalized sentiment classification system for microblog users. In WWW (Companion Volume), pages 255­258, 2016.
[12] K. Song, S. Feng, W. Gao, D. Wang, L. Chen, and C. Zhang. Build emotion lexicon from microblogs by combining effects of seed words and emoticons in a heterogeneous graph. In Hypertext, pages 283­292, 2015.
[13] K. Song, S. Feng, W. Gao, D. Wang, G. Yu, and K.-F. Wong. Personalized sentiment classification based on latent individuality of microblog users. In IJCAI, pages 2277­2283, 2015.
[14] J. Staiano and M. Guerini. Depeche mood: a lexicon for emotion analysis from crowd annotated news. In ACL, pages 427­433, 2014.
[15] G. Xu, X. Meng, and H. Wang. Build chinese emotion lexicons using a graph-based algorithm and multiple resources. In COLING, pages 1209­1217, 2010.
[16] W. Xu, X. Liu, and Y. Gong. Document clustering based on non-negative matrix factorization. In SIGIR, pages 267­273, 2003.

776

